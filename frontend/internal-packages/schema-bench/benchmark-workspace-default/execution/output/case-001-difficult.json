{
  "tables": {
    "organization": {
      "name": "organization",
      "columns": {
        "org_code": {
          "name": "org_code",
          "type": "varchar(30)",
          "default": null,
          "check": null,
          "notNull": true,
          "comment": "Business key for organization."
        },
        "org_name": {
          "name": "org_name",
          "type": "varchar(200)",
          "default": null,
          "check": null,
          "notNull": true,
          "comment": "Organization name, unique."
        },
        "parent_org_code": {
          "name": "parent_org_code",
          "type": "varchar(30)",
          "default": null,
          "check": null,
          "notNull": false,
          "comment": "FK to parent organization; null for root nodes."
        }
      },
      "comment": "Master of organizations with hierarchical structure.",
      "indexes": {},
      "constraints": {
        "primaryKey": {
          "type": "PRIMARY KEY",
          "name": "pk_organization",
          "columnNames": [
            "org_code"
          ]
        },
        "uniqueConstraints": {
          "type": "UNIQUE",
          "name": "uq_organization_name",
          "columnNames": [
            "org_name"
          ]
        },
        "foreignKeys": {
          "type": "FOREIGN KEY",
          "name": "fk_org_parent",
          "columnNames": [
            "parent_org_code"
          ],
          "targetTableName": "organization",
          "targetColumnNames": [
            "org_code"
          ],
          "updateConstraint": "NO_ACTION",
          "deleteConstraint": "SET_NULL"
        },
        "checks": {
          "type": "CHECK",
          "name": "ck_org_parent_not_self",
          "detail": "parent_org_code IS NULL OR parent_org_code <> org_code"
        }
      }
    },
    "position": {
      "name": "position",
      "columns": {
        "position_code": {
          "name": "position_code",
          "type": "varchar(30)",
          "default": null,
          "check": null,
          "notNull": true,
          "comment": "Business key for position."
        },
        "position_name": {
          "name": "position_name",
          "type": "varchar(200)",
          "default": null,
          "check": null,
          "notNull": true,
          "comment": "Position title, unique."
        }
      },
      "comment": "Master of positions.",
      "indexes": {},
      "constraints": {
        "primaryKey": {
          "type": "PRIMARY KEY",
          "name": "pk_position",
          "columnNames": [
            "position_code"
          ]
        },
        "uniqueConstraints": {
          "type": "UNIQUE",
          "name": "uq_position_name",
          "columnNames": [
            "position_name"
          ]
        }
      }
    },
    "employee": {
      "name": "employee",
      "columns": {
        "employee_code": {
          "name": "employee_code",
          "type": "varchar(30)",
          "default": null,
          "check": null,
          "notNull": true,
          "comment": "Business key for employee."
        },
        "employee_name": {
          "name": "employee_name",
          "type": "varchar(200)",
          "default": null,
          "check": null,
          "notNull": true,
          "comment": "Employee name (not unique)."
        }
      },
      "comment": "Employee master.",
      "indexes": {},
      "constraints": {
        "primaryKey": {
          "type": "PRIMARY KEY",
          "name": "pk_employee",
          "columnNames": [
            "employee_code"
          ]
        }
      }
    },
    "employee_org_membership": {
      "name": "employee_org_membership",
      "columns": {
        "employee_code": {
          "name": "employee_code",
          "type": "varchar(30)",
          "default": null,
          "check": null,
          "notNull": true,
          "comment": "FK to employee."
        },
        "org_code": {
          "name": "org_code",
          "type": "varchar(30)",
          "default": null,
          "check": null,
          "notNull": true,
          "comment": "FK to organization."
        },
        "position_code": {
          "name": "position_code",
          "type": "varchar(30)",
          "default": null,
          "check": null,
          "notNull": false,
          "comment": "Optional FK to position for this membership."
        },
        "reports_to_employee_code": {
          "name": "reports_to_employee_code",
          "type": "varchar(30)",
          "default": null,
          "check": null,
          "notNull": false,
          "comment": "Designated reporting employee within the same organization; optional."
        }
      },
      "comment": "Employee-to-organization assignment with optional position and designated reporting line within the org.",
      "indexes": {},
      "constraints": {
        "primaryKey": {
          "type": "PRIMARY KEY",
          "name": "pk_emp_org_membership",
          "columnNames": [
            "employee_code",
            "org_code"
          ]
        },
        "foreignKeys':[{": ":",
        "name": {
          "type": "FOREIGN KEY",
          "name": "fk_eom_employee",
          "columnNames": [
            "employee_code"
          ],
          "targetTableName": "employee",
          "targetColumnNames": [
            "employee_code"
          ],
          "updateConstraint": "NO_ACTION",
          "deleteConstraint": "CASCADE"
        },
        "targetTableName": {
          "type": "FOREIGN KEY",
          "name": "fk_eom_org",
          "columnNames": [
            "org_code"
          ],
          "targetTableName": "organization",
          "targetColumnNames": [
            "org_code"
          ],
          "updateConstraint": "NO_ACTION",
          "deleteConstraint": "CASCADE"
        },
        "targetColumnNames": {
          "type": "FOREIGN KEY",
          "name": "fk_eom_position",
          "columnNames": [
            "position_code"
          ],
          "targetTableName": "position",
          "targetColumnNames": [
            "position_code"
          ],
          "updateConstraint": "NO_ACTION",
          "deleteConstraint": "SET_NULL"
        }
      }
    },
    "checks": {
      "name": "ck_eom_reports_to_not_self",
      "columns": {},
      "comment": null,
      "indexes": {},
      "constraints": {
        "type": {
          "type": "CHECK",
          "name": "ck_eom_reports_to_not_self",
          "detail": "reports_to_employee_code IS NULL OR reports_to_employee_code <> employee_code"
        },
        "type2": {
          "type": "FOREIGN KEY",
          "name": "fk_eom_reports_to_same_org",
          "columnNames": [
            "reports_to_employee_code",
            "org_code"
          ],
          "targetTableName": "employee_org_membership",
          "targetColumnNames": [
            "employee_code",
            "org_code"
          ],
          "updateConstraint": "NO_ACTION",
          "deleteConstraint": "SET_NULL"
        }
      }
    }
  }
}